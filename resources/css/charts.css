@media (min-width: 768px) {
    body {overflow:hidden;}
}
body {background:#000;color:#fff;}

.filter-bar {
    position:absolute;
    top:20px;left:50%;
    transform:translateX(-50%);
    display:flex;gap:1rem;
    z-index:9999;
    background:rgba(30,30,40,0.6);
    border-radius:.5rem;
    padding:.5rem 1rem;
    backdrop-filter:blur(8px);
    box-shadow:0 4px 12px rgba(0,0,0,0.4);
}
.filter-bar input, .filter-bar select {
    background:rgba(255,255,255,0.1);
    border:1px solid rgba(255,255,255,0.2);
    border-radius:.3rem;
    padding:.25rem .5rem;
    color:#fff;
    font-size:.8rem;
}
.filter-bar input::placeholder {
    color:#aaa;
}
.banner {width:100%;height:100vh;position:relative;overflow:hidden;bottom:250px;}
/* remove CSS keyframes autoRun */
.slider {
    position:absolute;
    width:100%;height:100%;
    top:0;left:0;
    transform-style:preserve-3d;
}

@keyframes autoRun {
    from {transform: rotateX(-12deg) rotateY(0deg)}
    to   {transform: rotateX(-12deg) rotateY(360deg)}
}
.item {

    position:absolute;inset:0;
    display:flex;align-items:center;justify-content:center;
    transform:rotateY(calc((var(--position) - 1) * (360 / var(--quantity)) * 1deg))
    translateZ(620px);
    pointer-events: none; /* ignore all interactions */
}

.course-card {
    width:170px;height:200px;
    background: rgba(30, 30, 40, 0.6);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius:1rem;
    backdrop-filter:blur(12px);
    box-shadow:0 6px 16px rgba(0,0,0,0.4), inset 0 0 20px rgba(255,255,255,0.05);
    display:flex;flex-direction:column;
    padding:.5rem;
    backface-visibility:hidden;
    transition:transform .3s, box-shadow .3s;

    pointer-events: auto; /* re-enable ONLY on the card */
}

.course-card {

    position: relative;
    overflow: hidden;
    background: rgba(30,30,40,0.6);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 1rem;
    backdrop-filter: blur(12px);
    transition: box-shadow .3s, background .3s;
}

.course-card::before {
    content: "";
    position: absolute;
    top: -50%; left: -50%;
    width: 200%; height: 200%;
    background: radial-gradient(
        circle at center,
        rgba(255,255,255,0.15) 0%,
        transparent 70%
    );
    opacity: 0;
    transform: rotate(25deg);
    transition: opacity .3s;
    pointer-events: none;
}

.course-card:hover {
    background: rgba(40,40,55,0.7); /* slightly lighter on hover */
    box-shadow: 0 8px 20px rgba(0,0,0,0.6), inset 0 0 25px rgba(255,255,255,0.07);
}

.course-card:hover::before {
    opacity: 1; /* glowing glass shimmer */
}

.course-card,
.course-header,
.course-meta {
    user-select: none;
}

.course-header {
    font-size:.68rem;font-weight:600;margin-bottom:.15rem;
    line-height:1.2;text-align:center;text-transform:uppercase;
}
.course-meta {
    font-size:.52rem;opacity:.75;margin-bottom:.25rem;
    line-height:1.1;text-align:center;
}
.chart {flex:0 0 60%;max-height:100px;}
/* ───────────────────── Pagination */

#searchInput  {
    background-image: radial-gradient(circle at 90% 60%, rgba(24,24,35,0.62), rgba(5,5,10,0.9));
 }

#searchInput:focus {
    outline: none;
    box-shadow: 0 0 0 1px rgb(51, 48, 48);
}
#pagingFilter,#semesterFilter{
    background-color: #0b0c10;
    background-image: radial-gradient(circle at 90% 60%, rgba(24,24,35,0.62), rgba(5,5,10,0.9));
    border-radius: 0.5rem;
    padding: 0.5rem 1rem;
    border: 1px solid rgba(255,255,255,0.1);
}

.paginate_button:disabled,
.paginate_button[disabled] {
    cursor: not-allowed;
    pointer-events: none;

    opacity: 0.5;
    background: rgba(255, 255, 255, 0.04);
    border-color: rgba(255, 255, 255, 0.08);
    box-shadow: none;
    transform: none;
}

.paginate_button {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0 1rem;
    max-height: 2.5rem;
    font-size: 0.9rem;
    font-weight: 500;
    color: #fff;

    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 0.6rem;
    background: rgba(255, 255, 255, 0.06);
    backdrop-filter: blur(10px) saturate(140%);

    box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    cursor: pointer;
    overflow: hidden;
    transition: all 0.3s ease;
}

.paginate_button::before {
    content: "";
    position: absolute;
    top: -50%;
    left: -75%;
    width: 50%;
    height: 200%;
    background: linear-gradient(
        120deg,
        rgba(255, 255, 255, 0.05) 0%,
        rgba(255, 255, 255, 0.6) 50%,
        rgba(255, 255, 255, 0.05) 100%
    );
    transform: skewX(-25deg);
    opacity: 0;
}

.paginate_button:hover {
    background: rgba(255, 255, 255, 0.12);
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 6px 18px rgba(0,0,0,0.35);
}

.paginate_button:hover::before {
    animation: shine 0.8s forwards;
}

.paginate_button:active {
    transform: translateY(0) scale(0.97);
    box-shadow: 0 2px 6px rgba(0,0,0,0.25);
}

/* Shine animation */
@keyframes shine {
    0%   { left: -75%; opacity: 0; }
    30%  { opacity: 1; }
    100% { left: 130%; opacity: 0; }
}
/* overlay */
.detail-overlay.hidden { display:none; }
.detail-overlay {
    position: fixed; inset: 0; z-index: 10000; overflow: hidden;
}
.detail-backdrop {
    position:absolute; inset:0; backdrop-filter: blur(10px);
    background: rgba(7,7,12,0.55);
    opacity:0; transition: opacity .35s ease;
}
.detail-shell {
    position:absolute; inset:auto; /* set by JS during FLIP */
    width: 70vw; max-width: 1200px; height: 70vh; max-height: 800px;
    background: rgba(24,24,34,0.9);
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 1.2rem;
    box-shadow: 0 30px 100px rgba(0,0,0,0.6);
    overflow: hidden;
    transform-origin: top left;
}
.detail-open .detail-backdrop { opacity:1; }
.detail-header {
    display:flex; align-items:center; justify-content:space-between;
    padding: .9rem 1rem; gap:1rem; border-bottom:1px solid rgba(255,255,255,0.08);
}
.detail-title { font-size:1.05rem; font-weight:700; letter-spacing:.02em; }
.detail-meta { font-size:.85rem; opacity:.8; }
.detail-stats { display:flex; gap:1.1rem; flex-wrap:wrap; }
.stat {
    font-size:.8rem; padding:.35rem .5rem;
    background: rgba(255,255,255,0.05);
    border:1px solid rgba(255,255,255,0.08); border-radius:.5rem;
}
.detail-chart-wrap { position:relative; height: calc(100% - 100px); padding: .75rem; }
.detail-close {
    position:absolute; top:.5rem; right:.6rem;
    background:transparent; border:0; color:#fff; font-size:1.6rem; line-height:1;
    cursor:pointer; opacity:.85; transition: transform .15s ease, opacity .15s ease;
}
.detail-close:hover { transform: scale(1.08); opacity:1; }

/* clickable affordance */
.course-card { cursor: pointer; }
.course-card:active { transform: scale(.98); }

/* --- Mobile overrides --- */
/* --- MOBILE CHARTS --- */
:root{ --pad:12px; }
/* ── Mobile (≤767px) */
@media (max-width: 767px){
    :root{
        --pad:14px;
        --glass-bg: rgba(18,18,24,.78);
        --glass-border: rgba(255,255,255,.16);
        --glass-highlight: rgba(255,255,255,.06);
        --ink: #fff;
        --muted: rgba(255,255,255,.82);
        --shadow: 0 8px 24px rgba(0,0,0,.45);
        --radius: 14px;
        --blur: 12px;
    }

    body{ background:#000; color:var(--ink); }

    /* FILTER BAR ─ glass panel */
    .filter-bar{
        position: sticky;
        top: calc(env(safe-area-inset-top) + 0px);
        z-index: 20;

        /* reset desktop centering */
        left:auto; right:auto; transform:none;
        width:100%; box-sizing:border-box;

        display:flex; flex-direction:column; gap:10px;
        padding: 12px var(--pad);
        margin:0;
        border-radius:20px;
        background: var(--glass-bg);
        backdrop-filter: blur(var(--blur)) saturate(140%);
        -webkit-backdrop-filter: blur(var(--blur)) saturate(140%);
        border-bottom: 1px solid var(--glass-border);
        box-shadow: var(--shadow);
        isolation:isolate; /* for gradient border below */
    }
    /* subtle gradient border glow */
    .filter-bar::before{
        content:"";
        position:absolute; inset:0;
        pointer-events:none;
        mix-blend-mode:screen;
    }

    /* Search input */
    .filter-bar input{
        width:100%;
        background: rgba(255,255,255,.08);
        border: 1px solid var(--glass-border);
        border-radius: calc(var(--radius) - 2px);
        padding: .75rem .9rem;
        color: var(--ink);
        font-size: 1rem;
        box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
    }
    .filter-bar input::placeholder{ color: rgba(255,255,255,.55); }
    .filter-bar input:focus-visible{
        outline: none;
        box-shadow: 0 0 0 2px rgba(140,180,255,.45);
        border-color: rgba(140,180,255,.45);
    }

    /* Semester controls row */
    .sem-controls{
        display:grid;
        grid-template-columns: auto 1fr auto auto auto;
        gap:10px; align-items:center;
    }

    .sem-select{
        background: rgba(255,255,255,.08);
        border: 1px solid var(--glass-border);
        border-radius: calc(var(--radius) - 2px);
        color: var(--ink);
        padding: .6rem .8rem;
        font-size: .95rem;
    }
    .sem-select:focus-visible{
        outline:none; box-shadow: 0 0 0 2px rgba(140,180,255,.45);
        border-color: rgba(140,180,255,.45);
    }

    .btn-mini{
        padding: .55rem .7rem;
        border-radius: calc(var(--radius) - 6px);
        border: 1px solid var(--glass-border);
        background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
        color: var(--ink);
        font-size: 1.05rem; line-height:1;
        box-shadow: 0 2px 10px rgba(0,0,0,.35);
    }
    .btn-mini:disabled{ opacity:.45; }

    .pill{
        justify-self:end;
        font-size:.82rem;
        padding:.36rem .6rem;
        border-radius:999px;
        background: rgba(255,255,255,.08);
        border: 1px solid var(--glass-border);
        color: var(--muted);
    }

    /* LIST */
    .mobile-cards{
        display:grid;
        gap: 14px;
        padding: var(--pad);
    }

    .mcard{
        background: rgba(30,30,40,.62);
        border: 1px solid var(--glass-border);
        border-radius: var(--radius);
        padding: 14px;
        display:grid; grid-template-columns:1fr auto;
        gap:10px; align-items:center;
        box-shadow: var(--shadow);
        transition: transform .12s ease, box-shadow .2s ease, background .2s ease;
    }
    .mcard:active{ transform: scale(.985); }
    .mcard__head{ grid-column:1/-1; }
    .mcard__title{ font-weight: 800; line-height:1.22; letter-spacing:.01em; }
    .mcard__meta{ font-size:.9rem; color: var(--muted); }
    .mcard__tags{ display:flex; gap:8px; flex-wrap:wrap; grid-column:1/-1; }
    .tag{
        font-size:.78rem; padding:.28rem .5rem; border-radius:8px;
        background: rgba(255,255,255,.07);
        border: 1px solid var(--glass-border);
    }
    .mcard__chart{ grid-column:1/-1; height:120px; }

    .empty{
        opacity:.85; text-align:center; padding:42px 20px;
        border:1px dashed var(--glass-border); border-radius: var(--radius);
    }

    /* BOTTOM SHEET */
    .sheet.hidden{ display:none; }
    .sheet{ position:fixed; inset:0; z-index:1000; }
    .sheet__backdrop{
        position:absolute; inset:0; background:rgba(0,0,0,.55);
        opacity:0; transition: opacity .25s ease;
    }
    .sheet:not(.hidden) .sheet__backdrop{ opacity:1; }

    .sheet__panel{
        position:absolute; left:0; right:0; bottom:-100%;
        background: rgba(22,22,30,.96);
        color: var(--ink);
        border-top-left-radius: 18px; border-top-right-radius: 18px;
        border: 1px solid var(--glass-border);
        min-height:70vh; max-height: calc(100vh - env(safe-area-inset-top) - 8px);
        display:flex; flex-direction:column;
        box-shadow: 0 -24px 80px rgba(0,0,0,.65);
        transition: bottom .3s cubic-bezier(.2,.8,.2,1);
        touch-action: none;
    }
    .sheet__panel--open{ bottom:0; }

    .sheet__grab{ height:20px; display:flex; align-items:center; justify-content:center; }
    .sheet__bar{ width:48px; height:5px; border-radius:99px; background:rgba(255,255,255,.28); }

    .sheet__close{
        position:absolute; top:10px; right:12px;
        background:transparent; border:0; color:var(--ink); font-size:1.6rem;
    }

    .sheet__header{ padding: 8px 16px 10px; }
    .sheet__title{ font-size:1.08rem; font-weight:800; }
    .sheet__meta{ font-size:.92rem; color: var(--muted); margin-top:2px; }
    .sheet__desc{ font-size:.95rem; color: var(--muted); margin-top:8px; }
    .sheet__stats{ display:flex; flex-wrap:wrap; gap:8px; margin-top:12px; }
    .chip{
        font-size:.82rem; padding:.34rem .55rem; border-radius:10px;
        background: rgba(255,255,255,.07);
        border: 1px solid var(--glass-border);
    }

    .sheet__chart{
        flex:1 1 auto; min-height: 240px;
        padding: 12px 14px 16px;
        padding-bottom: calc(16px + env(safe-area-inset-bottom));
    }
    .sheet__chart>canvas{ width:100% !important; height:100% !important; display:block; }
.courseCharts{background: transparent}
    @media (prefers-reduced-motion: reduce){
        .mcard{ transition:none; }
        .sheet__panel{ transition:none; }
    }
}



